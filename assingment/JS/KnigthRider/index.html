<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Knight-Rider</title>
    <link rel="stylesheet" href="../../FrameWork/POS/assets/css/bootstrap.css">
</head>
<style>

    main > section {
        width: max-content;
        height: 50vh;
        position: absolute;
        margin: auto;
        top: 0;
        bottom: 0;
        right: 0;
        left: 0;
    }

    main > section > h1 {
        color: white;
        text-align: center;
    }

    main > section > section > section:first-child {
        width: max-content;
        height: 40vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    main > section > section > section > div {
        width: 150px;
        height: 50px;
        border: 1px solid #ffffff;
    }

    main > section > section > section:last-child {
        width: max-content;
        height: max-content;
        position: absolute;
        margin: auto;
        top: 40vh;
        bottom: 0;
        right: 0;
        left: 0;
    }

    main {
        width: 100%;
        height: 100vh;
        background-color: #120e5b;

        border: #f8c5c5;
    }
</style>
<body>

<main>
    <section>
        <h1>Knight Rider</h1>

        <section>
            <section>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </section>

            <section>
                <button class="btn btn-primary">Start</button>
                <button class="btn btn-danger">Stop</button>
                <input type="range">
            </section>

        </section>

    </section>
</main>

<script>

    let colors = ["#962727", "#b04141", "#ec6666", "#eaadad", "#ffc3c3", "#ffc3c3", "white", "white", "white", "white", "white", "white"];

    let setColor = [];

    let div_list = document.querySelectorAll("main>section>section>section>div");

    let interval;

    let count = 0;

    let i = 0;

    let rightInterval;

    let leftInterval;

    function setLeft() {
        clearInterval(leftInterval);
        leftInterval = setInterval(function () {
            setMoveLeft();
        }, 100);
    }

    function setMoveLeft() {
        setColor.unshift(colors[i]);
        for (let j = 0; j < 6; j++) {
            div_list[5-j].style.backgroundColor = setColor[j];
        }
        i = i + 1;
    }


    function setRight() {
        clearInterval(rightInterval);
        rightInterval = setInterval(function () {
            setMoveRight();
        }, 100);
    }

    function setMoveRight() {
        setColor.unshift(colors[i]);
        for (let j = 0; j < 6; j++) {
            div_list[j].style.backgroundColor = setColor[j];
        }
        i = i + 1;
    }

    let root = true;


    function setLeftNow(){
        setTimeout(function (){
            if (!root){
                setLeft();
                setColor = [];
                i = 0;
            }

            root=true;
        },1000);
    }

    function setTime(){

        if (root){
            setRight();
            setColor = [];
            i = 0;
        }



        setLeftNow();

        // if (!root){
        //     setLeft();
        //     setColor = [];
        //     i = 0;
        // }

    }

    let main = setInterval(function () {
       setTime();
    }, 2000);


</script>
</body>
</html>